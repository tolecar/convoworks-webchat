{"version":3,"file":"index.modern.js","sources":["../src/components/styles.jsx","../src/components/messages/Message.jsx","../src/components/messages/MessageGroup.jsx","../src/assets/icons/Icons.jsx","../src/components/Chat.jsx","../src/index.js"],"sourcesContent":["export const styleVars = {\n\tcolor_primary: \"#2f74ea\",\n\tcolor_secondary: \"red\",\n\tcolor_white: \"#fff\",\n\tcolor_black: \"#000\",\n\ttext_color: \"#fff\",\n\tinput_padding: \"0.875rem 1.25rem\",\n\tborder: \"1px solid rgba(0,0,0, 0.1)\",\n\ttransition: \"all 220ms ease-in-out\",\n};","import React from \"react\";\nimport { useState, useEffect } from \"react\";\nimport styled from \"styled-components\";\nimport { styleVars } from \"../styles\";\n\nconst MessageBlob = styled.div`\n\tdisplay: flex;\n\tflex-direction: column;\n\twidth: 100%;\n\tposition: relative;\n\toverflow: hidden;\n\tfont-size: 1em;\n\tline-height: 1.6;\n\n\t&:after {\n\t\tcontent: \"\";\n\t\tdisplay: block;\n\t\theight: 0.625rem;\n\t}\n\n\t> div {\n\t\tborder: 1px solid ${styleVars.color_primary};\n\t\tpadding: 0.5rem 1rem;\n\t\tpadding-bottom: 0.75rem;\n\t\tborder-radius: 0.875rem;\n\t}\n`;\n\nconst MessageBlobResponse = styled(MessageBlob)`\n\tjustify-content: flex-start;\n\ttext-align: left;\n\tcolor: ${styleVars.color_black};\n\n\t> div {\n\t\tbackground: ${styleVars.color_white};\n\t\tborder-bottom-left-radius: 0;\n\t\tmargin-right: auto;\n\t}\n`;\n\nconst MessageBlobUser = styled(MessageBlob)`\n\tjustify-content: flex-end;\n\ttext-align: right;\n\tcolor: ${styleVars.color_white};\n\n\t> div {\n\t\tbackground: ${styleVars.color_primary};\n\t\tborder-bottom-right-radius: 0;\n\t\tmargin-left: auto;\n\t\t\n\t\t&:empty {\n\t\t\tdisplay: none;\n\t\t}\n\t}\n`;\n\nfunction Message(props) {\n\tconst [visible, setVisible] = useState(false);\n\n\t//Finds y value of given object\n\tfunction findPos(obj) {\n\t\tvar curtop = 0;\n\t\tif (obj.offsetParent) {\n\t\t\tdo {\n\t\t\t\tcurtop += obj.offsetTop;\n\t\t\t} while ((obj = obj.offsetParent));\n\t\t\treturn [curtop];\n\t\t}\n\t}\n\n\t// scroll to bottom of the chatbox when a message is sent\n\tfunction handleScroll() {\n\t\tprops.scrollArea.current.scroll(0, findPos(props.scrollAnchor.current));\n\t}\n\n\tuseEffect(() => {\n\t\tif (props.timeout) {\n\t\t\tsetTimeout(() => {\n\t\t\t\tsetVisible(true);\n\t\t\t}, [props.timeout]);\n\t\t} else {\n\t\t\tsetVisible(true);\n\t\t}\n\t}, [props]);\n\n\tuseEffect(() => {\n\t\thandleScroll();\n\t}, [visible]);\n\n\tif (visible) {\n\t\treturn (\n\t\t\t<React.Fragment>\n\t\t\t\t{props.type === \"response\" ? (\n\t\t\t\t\t<MessageBlobResponse className=\"chat-message chat-message--response\">\n\t\t\t\t\t\t<div className=\"chat-message__inner\">{props.text}</div>\n\t\t\t\t\t</MessageBlobResponse>\n\t\t\t\t) : (\n\t\t\t\t\t<MessageBlobUser className=\"chat-message chat-message--inner\">\n\t\t\t\t\t\t<div className=\"chat-message__inner\">{props.text}</div>\n\t\t\t\t\t</MessageBlobUser>\n\t\t\t\t)}\n\t\t\t</React.Fragment>\n\t\t);\n\t} else {\n\t\treturn null;\n\t}\n}\n\nexport default Message;\n","import React, { useEffect } from 'react'\nimport Message from './Message'\n\nfunction MessageGroup(props) {\n  const handleResponses = (items) => {\n    return items.map((item, index) => {\n      return <Message type={'response'} text={item} key={index} timeout={600} scrollArea={props.scrollArea} scrollAnchor={props.scrollAnchor} />\n    })\n  }\n\n  return (\n    <React.Fragment>\n      <Message type={''} text={props.text} scrollArea={props.scrollArea} scrollAnchor={props.scrollAnchor} />\n      {handleResponses(props.text_responses)}\n    </React.Fragment>\n  )\n}\n\nexport default MessageGroup\n","import React from \"react\";\nimport styled from \"styled-components\";\n\nconst Icon = styled.div`\n\tdisplay: flex;\n\tjustify-content: center;\n\talign-items: center;\n\twidth: 1.125rem;\n\n\tsvg {\n\t\twidth: 100%;\n\t}\n`;\n\nexport function IconSend() {\n\treturn (\n\t\t<Icon className=\"convo-chat__icon\">\n\t\t\t<svg\n\t\t\t\txmlns=\"http://www.w3.org/2000/svg\"\n\t\t\t\twidth=\"24\"\n\t\t\t\theight=\"24\"\n\t\t\t\tviewBox=\"0 0 24 24\"\n\t\t\t\tfill=\"none\"\n\t\t\t\tstroke=\"currentColor\"\n\t\t\t\tstroke-width=\"2\"\n\t\t\t\tstroke-linecap=\"round\"\n\t\t\t\tstroke-linejoin=\"round\"\n\t\t\t\tclass=\"feather feather-send\"\n\t\t\t>\n\t\t\t\t<line x1=\"22\" y1=\"2\" x2=\"11\" y2=\"13\"></line>\n\t\t\t\t<polygon points=\"22 2 15 22 11 13 2 9 22 2\"></polygon>\n\t\t\t</svg>\n\t\t</Icon>\n\t);\n}\n\nexport function IconRefresh() {\n\treturn (\n\t\t<Icon className=\"convo-chat__icon\">\n\t\t\t<svg\n\t\t\t\txmlns=\"http://www.w3.org/2000/svg\"\n\t\t\t\twidth=\"24\"\n\t\t\t\theight=\"24\"\n\t\t\t\tviewBox=\"0 0 24 24\"\n\t\t\t\tfill=\"none\"\n\t\t\t\tstroke=\"currentColor\"\n\t\t\t\tstroke-width=\"2\"\n\t\t\t\tstroke-linecap=\"round\"\n\t\t\t\tstroke-linejoin=\"round\"\n\t\t\t>\n\t\t\t\t<polyline points=\"23 4 23 10 17 10\" />\n\t\t\t\t<polyline points=\"1 20 1 14 7 14\" />\n\t\t\t\t<path d=\"M3.51 9a9 9 0 0 1 14.85-3.36L23 10M1 14l4.64 4.36A9 9 0 0 0 20.49 15\" />\n\t\t\t</svg>\n\t\t</Icon>\n\t);\n}\n\nexport function IconMinus() {\n\treturn (\n\t\t<Icon className=\"convo-chat__icon\">\n\t\t\t<svg\n\t\t\t\txmlns=\"http://www.w3.org/2000/svg\"\n\t\t\t\twidth=\"24\"\n\t\t\t\theight=\"24\"\n\t\t\t\tviewBox=\"0 0 24 24\"\n\t\t\t\tfill=\"none\"\n\t\t\t\tstroke=\"currentColor\"\n\t\t\t\tstroke-width=\"2\"\n\t\t\t\tstroke-linecap=\"round\"\n\t\t\t\tstroke-linejoin=\"round\"\n\t\t\t>\n\t\t\t\t<line x1=\"5\" y1=\"12\" x2=\"19\" y2=\"12\" />\n\t\t\t</svg>\n\t\t</Icon>\n\t)\n}","import React from \"react\";\nimport { useState, useRef } from \"react\";\nimport axios from \"axios\";\nimport MessageGroup from \"./messages/MessageGroup\";\nimport { IconRefresh, IconSend } from \"../assets/icons/Icons\";\nimport { useEffect } from \"react\";\nimport styled from \"styled-components\";\nimport { styleVars } from \"./styles\";\nimport { IconMinus } from \"../assets/icons/Icons\";\n\nconst Wrapper = styled.div`\n\ttext-align: center;\n\tdisplay: flex;\n\tflex-direction: column;\n\tjustify-content: flex-end;\n\talign-items: center;\n\theight: 100%;\n\twidth: 100%;\n\tflex-basis: auto;\n\tmargin: auto;\n\tbox-sizing: border-box;\n\tfont-size: 14px;\n\tbackground: none;\n\n\t*, *:before, *:after {\n\t\tbox-sizing: border-box;\n\t}\n\n\tbutton {\n\t\tdisplay: inline-flex;\n\t\tjustify-content: center;\n\t\talign-items: center;\n\t\toutline: none;\n\t\tborder: none;\n\t\tpadding: 0;\n\t\tmargin: 0;\n\t\tcursor: pointer;\n\t}\n`;\n\nconst Header = styled.header`\n\theight: 3.125rem;\n\twidth: 100%;\n\tdisplay: flex;\n\talign-items: center;\n\tjustify-content: space-between;\n\tbackground: ${styleVars.color_primary};\n\tpadding: ${styleVars.input_padding};\n\tcolor: ${styleVars.color_white};\n\tfont-size: 1.125em;\n\n\tbutton {\n\t\tbackground: transparent;\n\t}\n`;\n\nconst HeaderActions = styled.div`\n\tdisplay: flex;\n\talign-items: center;\n\n\tbutton {\n\t\tpadding: 0.35rem;\n\t\tmargin-left: 0.625rem;\n\t\tcolor: ${styleVars.color_white};\n\n\t\tsvg {\n\t\t\tstroke: ${styleVars.color_white};\n\t\t}\n\t}\n`;\n\nconst BodyWrapper = styled.div`\n\twidth: 100%;\n\theight: calc(100% - 3.125rem);\n\tflex-direction: column;\n\tflex: 1;\n\tflex-basis: auto;\n\tbackground: ${styleVars.color_white};\n`;\n\nconst Body = styled.div`\n\twidth: 100%;\n\tborder: ${styleVars.border};\n\tborder-bottom: none;\n\tpadding: 1rem 1.25rem;\n\toverflow: hidden;\n\toverflow-y: scroll;\n\tscroll-behavior: smooth;\n\tflex: 1;\n`;\n\nconst Anchor = styled.div`\n\tpadding-bottom: 0.625rem;\n`;\n\nconst Form = styled.form`\n\twidth: 100%;\n\tborder: ${styleVars.border};\n\tborder-top: ${styleVars.border};\n\tdisplay: flex;\n\talign-items: center;\n`;\n\nconst FormInput = styled.input`\n\ttext-align: left;\n\twidth: 100%;\n\tpadding: 0.875rem 1.25rem;\n\tborder: none;\n\tline-height: 1.6;\n\tborder-top: none;\n\theight: 3.125rem;\n\tfont-size: 1em;\n`;\n\nconst FormButton = styled.button`\n\twidth: 4rem;\n\theight: 100%;\n\tdisplay: flex;\n\tjustify-content: center;\n\talign-items: center;\n\tbackground: ${styleVars.color_primary};\n\tborder: none;\n\toutline: none;\n\ttransition: ${styleVars.transition};\n\n\t&:hover {\n\t\tcursor: pointer;\n\t\topacity: 0.75;\n\t}\n\n\tsvg {\n\t\tfilter: brightness(0) invert(1);\n\t\twidth: 1rem;\n\t}\n`;\n\nconst Chat = (props) => {\n\t//State params\n\tconst [message, setMessage] = useState(\"\");\n\tconst [messageGroups, setMessageGroups] = useState([]);\n\tconst [chatVisible, setChatVisible] = useState(true);\n\n\t// Props\n\tconst serviceId = props.serviceId;\n\tconst variant = props.variant;\n\tconst deviceId = props.deviceId;\n\n\t//Refs\n\tconst mainInput = useRef(null);\n\tconst scrollArea = useRef(null);\n\tconst scrollAnchor = useRef(null);\n\n\t//Api Routes\n\tconst convoPublicApiBaseUrl = props.apiUrl;\n\n\tuseEffect(() => {\n\t\tsendMessage('', true);\n\t}, [deviceId]);\n\n\t// handle message submit\n\tfunction sendMessage(text, launch) {\n\t\t// request variables\n\t\tconst url =\n\t\t\tconvoPublicApiBaseUrl +\n\t\t\t\"/service-run/convo_chat/\" +\n\t\t\tvariant +\n\t\t\t\"/\" +\n\t\t\tserviceId;\n\t\tconst data = { device_id: deviceId, text: text, lunch: launch };\n\n\t\t// post request\n\t\taxios({ method: \"post\", url: url, data: data })\n\t\t\t.then((res) => {\n\t\t\t\tsetMessageGroups([\n\t\t\t\t\t...messageGroups,\n\t\t\t\t\t{\n\t\t\t\t\t\ttext: message,\n\t\t\t\t\t\ttext_responses: res.data.text_responses,\n\t\t\t\t\t},\n\t\t\t\t]);\n\t\t\t})\n\t\t\t.catch((err) => {\n\t\t\t\tsetMessageGroups([\n\t\t\t\t\t...messageGroups,\n\t\t\t\t\t{\n\t\t\t\t\t\ttext: err.toString(),\n\t\t\t\t\t\ttext_responses: [],\n\t\t\t\t\t},\n\t\t\t\t]);\n\t\t\t});\n\n\t\tsetMessage(null);\n\t\tmainInput.current.value = \"\";\n\t}\n\n\tconst chatBodyStyle = {\n\t\tdisplay: chatVisible ? 'flex' : 'none'\n\t}\n\n\treturn (\n\t\t<Wrapper className=\"convo-chat\">\n\t\t\t<Header\n\t\t\t\tclassName=\"convo-chat__header\"\n\t\t\t>\n\t\t\t\t<span>{props.title ? props.title : 'Title'}</span>\n\t\t\t\t<HeaderActions>\n\t\t\t\t\t{/* reloads the chat, basically */}\n\t\t\t\t\t<button onClick={() => {\n\t\t\t\t\t\tsetMessageGroups([]);\n\t\t\t\t\t\tsetMessage(\"\");\n\t\t\t\t\t\tmainInput.current.value = \"\";\n\t\t\t\t\t\tsendMessage(\"\", true);\n\t\t\t\t\t}}>\n\t\t\t\t\t\t<IconRefresh />\n\t\t\t\t\t</button>\n\t\t\t\t\t{/* minimize or maximize */}\n\t\t\t\t\t<button\n\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\tsetChatVisible(!chatVisible);\n\t\t\t\t\t\t}}\n\t\t\t\t\t>\n\t\t\t\t\t\t<IconMinus />\n\t\t\t\t\t</button>\n\t\t\t\t</HeaderActions>\n\t\t\t</Header>\n\t\t\t<BodyWrapper style={chatBodyStyle}>\n\t\t\t\t<Body className=\"convo-chat__body\" ref={scrollArea}>\n\t\t\t\t\t{messageGroups.map((item, index) => {\n\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t<MessageGroup\n\t\t\t\t\t\t\t\tkey={index}\n\t\t\t\t\t\t\t\ttext={item.text}\n\t\t\t\t\t\t\t\ttext_responses={item.text_responses}\n\t\t\t\t\t\t\t\tscrollArea={scrollArea}\n\t\t\t\t\t\t\t\tscrollAnchor={scrollAnchor}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t);\n\t\t\t\t\t})}\n\t\t\t\t\t<Anchor\n\t\t\t\t\t\tclassName=\"convo-chat__anchor\"\n\t\t\t\t\t\tref={scrollAnchor}\n\t\t\t\t\t/>\n\t\t\t\t</Body>\n\t\t\t\t<Form\n\t\t\t\t\tclassName=\"convo-chat__form\"\n\t\t\t\t\tonSubmit={(e) => {\n\t\t\t\t\t\te.preventDefault();\n\t\t\t\t\t\tmessage && sendMessage(message, false);\n\t\t\t\t\t}}\n\t\t\t\t>\n\t\t\t\t\t<FormInput\n\t\t\t\t\t\tref={mainInput}\n\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\tdefaultValue={\"\"}\n\t\t\t\t\t\tplaceholder=\"Type a message\"\n\t\t\t\t\t\tonChange={(e) => {\n\t\t\t\t\t\t\tsetMessage(e.target.value);\n\t\t\t\t\t\t}}\n\t\t\t\t\t/>\n\t\t\t\t\t<FormButton type=\"submit\">\n\t\t\t\t\t\t<IconSend />\n\t\t\t\t\t</FormButton>\n\t\t\t\t</Form>\n\t\t\t</BodyWrapper>\n\t\t</Wrapper>\n\t);\n};\n\nexport default Chat;\n","import React from 'react'\nimport Chat from './components/Chat'\n\nexport default function ConvoworksWebchat(props){\n\treturn <Chat title={props.title} apiUrl={props.apiUrl} serviceId={props.serviceId} deviceId={props.deviceId} variant={props.variant} />\n}\n"],"names":["styleVars","color_primary","color_secondary","color_white","color_black","text_color","input_padding","border","transition","MessageBlob","styled","div","MessageBlobResponse","MessageBlobUser","Message","props","visible","setVisible","useState","findPos","obj","curtop","offsetParent","offsetTop","handleScroll","scrollArea","current","scroll","scrollAnchor","useEffect","timeout","setTimeout","type","text","MessageGroup","handleResponses","items","map","item","index","text_responses","Icon","IconSend","IconRefresh","IconMinus","Wrapper","Header","header","HeaderActions","BodyWrapper","Body","Anchor","Form","form","FormInput","input","FormButton","button","Chat","message","setMessage","messageGroups","setMessageGroups","chatVisible","setChatVisible","serviceId","variant","deviceId","mainInput","useRef","convoPublicApiBaseUrl","apiUrl","sendMessage","launch","url","data","device_id","lunch","axios","method","then","res","catch","err","toString","value","chatBodyStyle","display","title","e","preventDefault","target","ConvoworksWebchat"],"mappings":";;;;AAAO,MAAMA,SAAS,GAAG;AACxBC,EAAAA,aAAa,EAAE,SADS;AAExBC,EAAAA,eAAe,EAAE,KAFO;AAGxBC,EAAAA,WAAW,EAAE,MAHW;AAIxBC,EAAAA,WAAW,EAAE,MAJW;AAKxBC,EAAAA,UAAU,EAAE,MALY;AAMxBC,EAAAA,aAAa,EAAE,kBANS;AAOxBC,EAAAA,MAAM,EAAE,4BAPgB;AAQxBC,EAAAA,UAAU,EAAE;AARY,CAAlB;;;;;;ACKP,MAAMC,WAAW,GAAGC,MAAM,CAACC,GAAV,cAAc;AAC/B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sBAhBiB,CAgB6B;AAC9C;AACA;AACA;AACA;AACA,CArBiB,GAgBKX,SAAS,CAACC,aAhBf,CAAjB;AAuBA,MAAMW,mBAAmB,GAAGF,MAAM,CAACD,WAAD,CAAT,gBAAuB;AAChD;AACA;AACA,UAHyB,CAGO;AAChC;AACA;AACA,gBANyB,CAMa;AACtC;AACA;AACA;AACA,CAVyB,GAGfT,SAAS,CAACI,WAHK,EAMTJ,SAAS,CAACG,WAND,CAAzB;AAYA,MAAMU,eAAe,GAAGH,MAAM,CAACD,WAAD,CAAT,gBAAuB;AAC5C;AACA;AACA,UAHqB,CAGW;AAChC;AACA;AACA,gBANqB,CAMmB;AACxC;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAdqB,GAGXT,SAAS,CAACG,WAHC,EAMLH,SAAS,CAACC,aANL,CAArB;;AAgBA,SAASa,OAAT,CAAiBC,KAAjB,EAAwB;AACvB,QAAM,CAACC,OAAD,EAAUC,UAAV,IAAwBC,QAAQ,CAAC,KAAD,CAAtC;;AAGA,WAASC,OAAT,CAAiBC,GAAjB,EAAsB;AACrB,QAAIC,MAAM,GAAG,CAAb;;AACA,QAAID,GAAG,CAACE,YAAR,EAAsB;AACrB,SAAG;AACFD,QAAAA,MAAM,IAAID,GAAG,CAACG,SAAd;AACA,OAFD,QAEUH,GAAG,GAAGA,GAAG,CAACE,YAFpB;;AAGA,aAAO,CAACD,MAAD,CAAP;AACA;AACD;;AAGD,WAASG,YAAT,GAAwB;AACvBT,IAAAA,KAAK,CAACU,UAAN,CAAiBC,OAAjB,CAAyBC,MAAzB,CAAgC,CAAhC,EAAmCR,OAAO,CAACJ,KAAK,CAACa,YAAN,CAAmBF,OAApB,CAA1C;AACA;;AAEDG,EAAAA,SAAS,CAAC,MAAM;AACf,QAAId,KAAK,CAACe,OAAV,EAAmB;AAClBC,MAAAA,UAAU,CAAC,MAAM;AAChBd,QAAAA,UAAU,CAAC,IAAD,CAAV;AACA,OAFS,EAEP,CAACF,KAAK,CAACe,OAAP,CAFO,CAAV;AAGA,KAJD,MAIO;AACNb,MAAAA,UAAU,CAAC,IAAD,CAAV;AACA;AACD,GARQ,EAQN,CAACF,KAAD,CARM,CAAT;AAUAc,EAAAA,SAAS,CAAC,MAAM;AACfL,IAAAA,YAAY;AACZ,GAFQ,EAEN,CAACR,OAAD,CAFM,CAAT;;AAIA,MAAIA,OAAJ,EAAa;AACZ,wBACC,oBAAC,KAAD,CAAO,QAAP,QACED,KAAK,CAACiB,IAAN,KAAe,UAAf,gBACA,oBAAC,mBAAD;AAAqB,MAAA,SAAS,EAAC;AAA/B,oBACC;AAAK,MAAA,SAAS,EAAC;AAAf,OAAsCjB,KAAK,CAACkB,IAA5C,CADD,CADA,gBAKA,oBAAC,eAAD;AAAiB,MAAA,SAAS,EAAC;AAA3B,oBACC;AAAK,MAAA,SAAS,EAAC;AAAf,OAAsClB,KAAK,CAACkB,IAA5C,CADD,CANF,CADD;AAaA,GAdD,MAcO;AACN,WAAO,IAAP;AACA;AACD;;ACvGD,SAASC,YAAT,CAAsBnB,KAAtB,EAA6B;AAC3B,QAAMoB,eAAe,GAAIC,KAAD,IAAW;AACjC,WAAOA,KAAK,CAACC,GAAN,CAAU,CAACC,IAAD,EAAOC,KAAP,KAAiB;AAChC,0BAAO,oBAAC,OAAD;AAAS,QAAA,IAAI,EAAE,UAAf;AAA2B,QAAA,IAAI,EAAED,IAAjC;AAAuC,QAAA,GAAG,EAAEC,KAA5C;AAAmD,QAAA,OAAO,EAAE,GAA5D;AAAiE,QAAA,UAAU,EAAExB,KAAK,CAACU,UAAnF;AAA+F,QAAA,YAAY,EAAEV,KAAK,CAACa;AAAnH,QAAP;AACD,KAFM,CAAP;AAGD,GAJD;;AAMA,sBACE,oBAAC,KAAD,CAAO,QAAP,qBACE,oBAAC,OAAD;AAAS,IAAA,IAAI,EAAE,EAAf;AAAmB,IAAA,IAAI,EAAEb,KAAK,CAACkB,IAA/B;AAAqC,IAAA,UAAU,EAAElB,KAAK,CAACU,UAAvD;AAAmE,IAAA,YAAY,EAAEV,KAAK,CAACa;AAAvF,IADF,EAEGO,eAAe,CAACpB,KAAK,CAACyB,cAAP,CAFlB,CADF;AAMD;;;;ACbD,MAAMC,IAAI,GAAG/B,MAAM,CAACC,GAAV,oBAAc;AACxB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CATU,EAAV;AAWA,AAAO,SAAS+B,QAAT,GAAoB;AAC1B,sBACC,oBAAC,IAAD;AAAM,IAAA,SAAS,EAAC;AAAhB,kBACC;AACC,IAAA,KAAK,EAAC,4BADP;AAEC,IAAA,KAAK,EAAC,IAFP;AAGC,IAAA,MAAM,EAAC,IAHR;AAIC,IAAA,OAAO,EAAC,WAJT;AAKC,IAAA,IAAI,EAAC,MALN;AAMC,IAAA,MAAM,EAAC,cANR;AAOC,oBAAa,GAPd;AAQC,sBAAe,OARhB;AASC,uBAAgB,OATjB;AAUC,IAAA,KAAK,EAAC;AAVP,kBAYC;AAAM,IAAA,EAAE,EAAC,IAAT;AAAc,IAAA,EAAE,EAAC,GAAjB;AAAqB,IAAA,EAAE,EAAC,IAAxB;AAA6B,IAAA,EAAE,EAAC;AAAhC,IAZD,eAaC;AAAS,IAAA,MAAM,EAAC;AAAhB,IAbD,CADD,CADD;AAmBA;AAED,AAAO,SAASC,WAAT,GAAuB;AAC7B,sBACC,oBAAC,IAAD;AAAM,IAAA,SAAS,EAAC;AAAhB,kBACC;AACC,IAAA,KAAK,EAAC,4BADP;AAEC,IAAA,KAAK,EAAC,IAFP;AAGC,IAAA,MAAM,EAAC,IAHR;AAIC,IAAA,OAAO,EAAC,WAJT;AAKC,IAAA,IAAI,EAAC,MALN;AAMC,IAAA,MAAM,EAAC,cANR;AAOC,oBAAa,GAPd;AAQC,sBAAe,OARhB;AASC,uBAAgB;AATjB,kBAWC;AAAU,IAAA,MAAM,EAAC;AAAjB,IAXD,eAYC;AAAU,IAAA,MAAM,EAAC;AAAjB,IAZD,eAaC;AAAM,IAAA,CAAC,EAAC;AAAR,IAbD,CADD,CADD;AAmBA;AAED,AAAO,SAASC,SAAT,GAAqB;AAC3B,sBACC,oBAAC,IAAD;AAAM,IAAA,SAAS,EAAC;AAAhB,kBACC;AACC,IAAA,KAAK,EAAC,4BADP;AAEC,IAAA,KAAK,EAAC,IAFP;AAGC,IAAA,MAAM,EAAC,IAHR;AAIC,IAAA,OAAO,EAAC,WAJT;AAKC,IAAA,IAAI,EAAC,MALN;AAMC,IAAA,MAAM,EAAC,cANR;AAOC,oBAAa,GAPd;AAQC,sBAAe,OARhB;AASC,uBAAgB;AATjB,kBAWC;AAAM,IAAA,EAAE,EAAC,GAAT;AAAa,IAAA,EAAE,EAAC,IAAhB;AAAqB,IAAA,EAAE,EAAC,IAAxB;AAA6B,IAAA,EAAE,EAAC;AAAhC,IAXD,CADD,CADD;AAiBA;;;;;;;;;;;;AClED,MAAMC,OAAO,GAAGnC,MAAM,CAACC,GAAV,oBAAc;AAC3B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CA5Ba,EAAb;AA8BA,MAAMmC,MAAM,GAAGpC,MAAM,CAACqC,MAAV,sBAAiB;AAC7B;AACA;AACA;AACA;AACA;AACA,eANY,CAM2B;AACvC,YAPY,CAOwB;AACpC,UARY,CAQoB;AAChC;AACA;AACA;AACA;AACA;AACA,CAdY,GAMG/C,SAAS,CAACC,aANb,EAOAD,SAAS,CAACM,aAPV,EAQFN,SAAS,CAACG,WARR,CAAZ;AAgBA,MAAM6C,aAAa,GAAGtC,MAAM,CAACC,GAAV,sBAAc;AACjC;AACA;AACA;AACA;AACA;AACA;AACA,WAPmB,CAOc;AACjC;AACA;AACA,aAVmB,CAUgB;AACnC;AACA;AACA,CAbmB,GAORX,SAAS,CAACG,WAPF,EAUNH,SAAS,CAACG,WAVJ,CAAnB;AAeA,MAAM8C,WAAW,GAAGvC,MAAM,CAACC,GAAV,kBAAc;AAC/B;AACA;AACA;AACA;AACA;AACA,eANiB,CAMoB;AACrC,CAPiB,GAMFX,SAAS,CAACG,WANR,CAAjB;AASA,MAAM+C,IAAI,GAAGxC,MAAM,CAACC,GAAV,kBAAc;AACxB;AACA,WAFU,CAEkB;AAC5B;AACA;AACA;AACA;AACA;AACA;AACA,CATU,GAECX,SAAS,CAACO,MAFX,CAAV;AAWA,MAAM4C,MAAM,GAAGzC,MAAM,CAACC,GAAV,kBAAc;AAC1B;AACA,CAFY,EAAZ;AAIA,MAAMyC,IAAI,GAAG1C,MAAM,CAAC2C,IAAV,kBAAe;AACzB;AACA,WAFU,CAEkB;AAC5B,eAHU,CAGsB;AAChC;AACA;AACA,CANU,GAECrD,SAAS,CAACO,MAFX,EAGKP,SAAS,CAACO,MAHf,CAAV;AAQA,MAAM+C,SAAS,GAAG5C,MAAM,CAAC6C,KAAV,kBAAgB;AAC/B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CATe,EAAf;AAWA,MAAMC,UAAU,GAAG9C,MAAM,CAAC+C,MAAV,kBAAiB;AACjC;AACA;AACA;AACA;AACA;AACA,eANgB,CAMuB;AACvC;AACA;AACA,eATgB,CASoB;AACpC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CApBgB,GAMDzD,SAAS,CAACC,aANT,EASDD,SAAS,CAACQ,UATT,CAAhB;;AAsBA,MAAMkD,IAAI,GAAI3C,KAAD,IAAW;AAEvB,QAAM,CAAC4C,OAAD,EAAUC,UAAV,IAAwB1C,QAAQ,CAAC,EAAD,CAAtC;AACA,QAAM,CAAC2C,aAAD,EAAgBC,gBAAhB,IAAoC5C,QAAQ,CAAC,EAAD,CAAlD;AACA,QAAM,CAAC6C,WAAD,EAAcC,cAAd,IAAgC9C,QAAQ,CAAC,IAAD,CAA9C;AAGA,QAAM+C,SAAS,GAAGlD,KAAK,CAACkD,SAAxB;AACA,QAAMC,OAAO,GAAGnD,KAAK,CAACmD,OAAtB;AACA,QAAMC,QAAQ,GAAGpD,KAAK,CAACoD,QAAvB;AAGA,QAAMC,SAAS,GAAGC,MAAM,CAAC,IAAD,CAAxB;AACA,QAAM5C,UAAU,GAAG4C,MAAM,CAAC,IAAD,CAAzB;AACA,QAAMzC,YAAY,GAAGyC,MAAM,CAAC,IAAD,CAA3B;AAGA,QAAMC,qBAAqB,GAAGvD,KAAK,CAACwD,MAApC;AAEA1C,EAAAA,SAAS,CAAC,MAAM;AACf2C,IAAAA,WAAW,CAAC,EAAD,EAAK,IAAL,CAAX;AACA,GAFQ,EAEN,CAACL,QAAD,CAFM,CAAT;;AAKA,WAASK,WAAT,CAAqBvC,IAArB,EAA2BwC,MAA3B,EAAmC;AAElC,UAAMC,GAAG,GACRJ,qBAAqB,GACrB,0BADA,GAEAJ,OAFA,GAGA,GAHA,GAIAD,SALD;AAMA,UAAMU,IAAI,GAAG;AAAEC,MAAAA,SAAS,EAAET,QAAb;AAAuBlC,MAAAA,IAAI,EAAEA,IAA7B;AAAmC4C,MAAAA,KAAK,EAAEJ;AAA1C,KAAb;AAGAK,IAAAA,KAAK,CAAC;AAAEC,MAAAA,MAAM,EAAE,MAAV;AAAkBL,MAAAA,GAAG,EAAEA,GAAvB;AAA4BC,MAAAA,IAAI,EAAEA;AAAlC,KAAD,CAAL,CACEK,IADF,CACQC,GAAD,IAAS;AACdnB,MAAAA,gBAAgB,CAAC,CAChB,GAAGD,aADa,EAEhB;AACC5B,QAAAA,IAAI,EAAE0B,OADP;AAECnB,QAAAA,cAAc,EAAEyC,GAAG,CAACN,IAAJ,CAASnC;AAF1B,OAFgB,CAAD,CAAhB;AAOA,KATF,EAUE0C,KAVF,CAUSC,GAAD,IAAS;AACfrB,MAAAA,gBAAgB,CAAC,CAChB,GAAGD,aADa,EAEhB;AACC5B,QAAAA,IAAI,EAAEkD,GAAG,CAACC,QAAJ,EADP;AAEC5C,QAAAA,cAAc,EAAE;AAFjB,OAFgB,CAAD,CAAhB;AAOA,KAlBF;AAoBAoB,IAAAA,UAAU,CAAC,IAAD,CAAV;AACAQ,IAAAA,SAAS,CAAC1C,OAAV,CAAkB2D,KAAlB,GAA0B,EAA1B;AACA;;AAED,QAAMC,aAAa,GAAG;AACrBC,IAAAA,OAAO,EAAExB,WAAW,GAAG,MAAH,GAAY;AADX,GAAtB;AAIA,sBACC,oBAAC,OAAD;AAAS,IAAA,SAAS,EAAC;AAAnB,kBACC,oBAAC,MAAD;AACC,IAAA,SAAS,EAAC;AADX,kBAGC,kCAAOhD,KAAK,CAACyE,KAAN,GAAczE,KAAK,CAACyE,KAApB,GAA4B,OAAnC,CAHD,eAIC,oBAAC,aAAD,qBAEC;AAAQ,IAAA,OAAO,EAAE,MAAM;AACtB1B,MAAAA,gBAAgB,CAAC,EAAD,CAAhB;AACAF,MAAAA,UAAU,CAAC,EAAD,CAAV;AACAQ,MAAAA,SAAS,CAAC1C,OAAV,CAAkB2D,KAAlB,GAA0B,EAA1B;AACAb,MAAAA,WAAW,CAAC,EAAD,EAAK,IAAL,CAAX;AACA;AALD,kBAMC,oBAAC,WAAD,OAND,CAFD,eAWC;AACC,IAAA,OAAO,EAAE,MAAM;AACdR,MAAAA,cAAc,CAAC,CAACD,WAAF,CAAd;AACA;AAHF,kBAKC,oBAAC,SAAD,OALD,CAXD,CAJD,CADD,eAyBC,oBAAC,WAAD;AAAa,IAAA,KAAK,EAAEuB;AAApB,kBACC,oBAAC,IAAD;AAAM,IAAA,SAAS,EAAC,kBAAhB;AAAmC,IAAA,GAAG,EAAE7D;AAAxC,KACEoC,aAAa,CAACxB,GAAd,CAAkB,CAACC,IAAD,EAAOC,KAAP,KAAiB;AACnC,wBACC,oBAAC,YAAD;AACC,MAAA,GAAG,EAAEA,KADN;AAEC,MAAA,IAAI,EAAED,IAAI,CAACL,IAFZ;AAGC,MAAA,cAAc,EAAEK,IAAI,CAACE,cAHtB;AAIC,MAAA,UAAU,EAAEf,UAJb;AAKC,MAAA,YAAY,EAAEG;AALf,MADD;AASA,GAVA,CADF,eAYC,oBAAC,MAAD;AACC,IAAA,SAAS,EAAC,oBADX;AAEC,IAAA,GAAG,EAAEA;AAFN,IAZD,CADD,eAkBC,oBAAC,IAAD;AACC,IAAA,SAAS,EAAC,kBADX;AAEC,IAAA,QAAQ,EAAG6D,CAAD,IAAO;AAChBA,MAAAA,CAAC,CAACC,cAAF;AACA/B,MAAAA,OAAO,IAAIa,WAAW,CAACb,OAAD,EAAU,KAAV,CAAtB;AACA;AALF,kBAOC,oBAAC,SAAD;AACC,IAAA,GAAG,EAAES,SADN;AAEC,IAAA,IAAI,EAAC,MAFN;AAGC,IAAA,YAAY,EAAE,EAHf;AAIC,IAAA,WAAW,EAAC,gBAJb;AAKC,IAAA,QAAQ,EAAGqB,CAAD,IAAO;AAChB7B,MAAAA,UAAU,CAAC6B,CAAC,CAACE,MAAF,CAASN,KAAV,CAAV;AACA;AAPF,IAPD,eAgBC,oBAAC,UAAD;AAAY,IAAA,IAAI,EAAC;AAAjB,kBACC,oBAAC,QAAD,OADD,CAhBD,CAlBD,CAzBD,CADD;AAmEA,CAlID;;ACrIe,SAASO,iBAAT,CAA2B7E,KAA3B,EAAiC;AAC/C,sBAAO,oBAAC,IAAD;AAAM,IAAA,KAAK,EAAEA,KAAK,CAACyE,KAAnB;AAA0B,IAAA,MAAM,EAAEzE,KAAK,CAACwD,MAAxC;AAAgD,IAAA,SAAS,EAAExD,KAAK,CAACkD,SAAjE;AAA4E,IAAA,QAAQ,EAAElD,KAAK,CAACoD,QAA5F;AAAsG,IAAA,OAAO,EAAEpD,KAAK,CAACmD;AAArH,IAAP;AACA;;;;"}
(this["webpackJsonpconvo-chat-example"]=this["webpackJsonpconvo-chat-example"]||[]).push([[0],{18:function(e,t,n){e.exports=n(42)},19:function(e,t,n){},24:function(e,t,n){},42:function(e,t,n){"use strict";n.r(t);n(19);var a=n(0),c=n.n(a),r=n(14),o=n.n(r),s=(n(24),n(17)),l=n(15),u=n(2),i=n(16),m=n.n(i);function f(e){var t=Object(a.useState)(!1),n=Object(u.a)(t,2),r=n[0],o=n[1];return Object(a.useEffect)((function(){e.timeout?setTimeout((function(){o(!0)}),[e.timeout]):o(!0)}),[e]),Object(a.useEffect)((function(){e.scrollArea.current.scroll(0,function(e){var t=0;if(e.offsetParent){do{t+=e.offsetTop}while(e=e.offsetParent);return[t]}}(e.scrollAnchor.current))}),[r]),r?c.a.createElement("div",{className:"response"===e.type?"message message--response":"message message--user"},c.a.createElement("div",{className:"message__inner"},e.text)):null}function h(e){return c.a.createElement(c.a.Fragment,null,c.a.createElement(f,{type:"",text:e.text,scrollArea:e.scrollArea,scrollAnchor:e.scrollAnchor}),e.text_responses.map((function(t,n){return c.a.createElement(f,{type:"response",text:t,key:n,timeout:600,scrollArea:e.scrollArea,scrollAnchor:e.scrollAnchor})})))}function v(){return c.a.createElement("div",{className:"icon"},c.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round",class:"feather feather-send"},c.a.createElement("line",{x1:"22",y1:"2",x2:"11",y2:"13"}),c.a.createElement("polygon",{points:"22 2 15 22 11 13 2 9 22 2"})))}var p=function(e){var t=Object(a.useState)(""),n=Object(u.a)(t,2),r=n[0],o=n[1],i=Object(a.useState)([]),f=Object(u.a)(i,2),p=f[0],d=f[1],b=Object(a.useState)(!0),E=Object(u.a)(b,2),x=E[0],j=E[1],O=Object(a.useState)(null),g=Object(u.a)(O,2),_=g[0],y=g[1],A=e.serviceId,w=e.variant,k=e.isLaunch,N=Object(a.useRef)(null),S=Object(a.useRef)(null),I=Object(a.useRef)(null);return Object(a.useEffect)((function(){y("device")}),[]),c.a.createElement("div",{className:"convo-chat"},c.a.createElement("header",{class:"convo-chat__header",onClick:function(){j(!x)}},"Chat"),x&&c.a.createElement(c.a.Fragment,null,c.a.createElement("div",{className:"convo-chat__body",ref:S},p.map((function(e,t){return c.a.createElement(h,{key:t,text:e.text,text_responses:e.text_responses,scrollArea:S,scrollAnchor:I})})),c.a.createElement("div",{className:"convo-chat__anchor",ref:I})),c.a.createElement("form",{className:"convo-chat__form",onSubmit:function(e){e.preventDefault(),r&&function(e){w||(Object(l.a)("variant"),w="develop");var t="http://localhost:9090/rest_public/convo/v1/service-run/webchat/"+w+"/"+A,n={device_id:_,text:e,lunch:k};m()({method:"post",url:t,data:n}).then((function(e){d([].concat(Object(s.a)(p),[{text:r,text_responses:e.data.text_responses}])),o(null),N.current.value=""})).catch((function(e){return console.log(e)}))}(r)}},c.a.createElement("input",{ref:N,type:"text",defaultValue:"",placeholder:"Type a message",onChange:function(e){return o(e.target.value)}}),c.a.createElement("button",{type:"submit"},c.a.createElement(v,null)))))},d=function(e){return c.a.createElement(p,{serviceId:e.serviceId,variant:e.variant,isLaunch:e.isLaunch})},b=function(){return c.a.createElement(d,{serviceId:"servis",variant:"b",isLaunch:!1})};o.a.render(c.a.createElement(b,null),document.getElementById("root"))}},[[18,1,2]]]);
//# sourceMappingURL=main.d240a4df.chunk.js.map